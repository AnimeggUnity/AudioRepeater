![image](https://github.com/AnimeggUnity/AudioRepeater/blob/74a61cf0702214c8f246bf7dbaabcfe4347d2dcf/17553579652141.jpg)
# 音訊重複器 (Audio Repeater)

一個功能完整的 Windows 程式，可以重複播放音訊檔案達到指定時長，並支援自動化媒體管理功能。

## 🎵 核心功能

### 音訊處理
- **支援多種音訊格式**：WAV, MP3, M4A, FLAC, OGG, AAC, WMA
- **智慧格式處理**：同格式無損合併（最快速度，無品質損失）
- **跨格式轉換**：支援不同格式間的轉換
- **自動計算重複次數**：根據源檔時長與目標時間智慧計算
- **純 Python WAV 處理**：無需 FFmpeg 也能處理 WAV 檔案

### 🚀 可移動媒體管理

#### 批次處理模式
- **自動偵測媒體**：即時監控 USB 隨身碟、SD 卡等可移動媒體
- **全自動流程**：插入媒體後自動執行完整處理流程
  1. 🗑️ 自動清空媒體
  2. 📋 複製檔案到媒體
  3. ✅ 驗證檔案完整性
  4. 💡 顯示「可安全移除」通知
- **多媒體並行處理**：同時處理多個插入的媒體裝置
- **即時狀態監控**：詳細的處理進度和狀態回饋

#### 手動媒體操作
- **靈活檔案選擇**：可選擇任意音訊檔案進行複製
- **選擇性媒體操作**：手動選擇特定媒體進行處理
- **安全防護**：防止誤操作重要媒體
- **分步驟控制**：可單獨執行清空、複製等操作

## 📋 使用說明

### 基本音訊重複功能

1. **選擇音訊檔案**：點擊「瀏覽」選擇要重複的音訊檔案
2. **設定目標時間**：輸入想要的總時長（分鐘）
3. **選擇輸出格式**：程式自動選擇最佳格式，也可手動更改
4. **計算重複次數**：預覽處理方式與最終時長
5. **設定輸出檔名**：指定檔案名稱和儲存位置
6. **生成檔案**：開始處理並生成重複音訊檔案

### 🔄 批次處理模式使用

#### 設定批次處理
1. **選擇處理檔案**：在「處理檔案」欄位選擇要複製的音訊檔案
2. **啟用批次模式**：勾選「批次處理模式」
3. **等待媒體插入**：狀態顯示「等待媒體插入...」

#### 自動處理流程
1. **插入媒體**：將 USB 隨身碟或 SD 卡插入電腦
2. **自動開始**：程式自動偵測並開始處理
3. **即時監控**：觀看詳細的處理狀態
4. **完成通知**：收到「可以安全移除」通知
5. **重複操作**：插入下一個媒體，自動重複流程

### 🛠️ 手動媒體操作

1. **選擇複製檔案**：在「複製檔案」欄位選擇要複製的檔案
2. **選擇目標媒體**：從下拉選單選擇媒體裝置
3. **設定選項**：
   - 勾選「複製前清空媒體」（如需要）
   - 勾選「自動複製到媒體」（生成檔案後自動複製）
4. **執行操作**：
   - 點擊「清空選中媒體」清除媒體內容
   - 點擊「複製到媒體」手動複製檔案

## 🔧 安裝與環境設定

### 系統需求
- **作業系統**：Windows 10 或更新版本
- **Python**：3.7+ （如果從原始碼執行）
- **記憶體**：建議 4GB 以上
- **儲存空間**：依處理的音訊檔案大小而定

### 安裝步驟

#### 方法一：從原始碼執行
1. **安裝 Python 依賴套件**：
   ```bash
   pip install -r requirements.txt
   ```
   或手動安裝：
   ```bash
   pip install FreeSimpleGUI mutagen psutil
   ```

2. **執行程式**：
   ```bash
   python audio_repeater.py
   ```

#### 方法二：使用可執行檔（如果有）
直接執行 `audio_repeater.exe`

### FFmpeg 設定（建議）

為了完整支援所有音訊格式，建議安裝 FFmpeg：

**方法一：簡單設定**
1. 下載 FFmpeg：https://ffmpeg.org/download.html
2. 將 `ffmpeg.exe` 放到程式目錄中
3. 程式會自動偵測並使用

**方法二：系統安裝**
1. 下載 FFmpeg 完整版本
2. 解壓縮到目錄（例如 `C:\ffmpeg`）
3. 將 `bin` 目錄加入系統 PATH 環境變數

> **注意**：沒有 FFmpeg 時，程式仍可處理 WAV 格式檔案

## 📊 功能對照表

| 功能 | 批次處理模式 | 手動操作模式 |
|------|-------------|-------------|
| 媒體偵測 | ✅ 自動偵測 | ✅ 手動重新整理 |
| 檔案選擇 | 🎯 預設檔案 | 🔧 靈活選擇 |
| 媒體清空 | ✅ 自動執行 | 🔧 手動控制 |
| 檔案複製 | ✅ 自動執行 | 🔧 手動控制 |
| 檔案驗證 | ✅ 自動執行 | ❌ 不包含 |
| 多媒體處理 | ✅ 並行處理 | 🔧 逐一處理 |
| 適用場景 | 大量相同作業 | 個別客製需求 |

## 🎯 使用場景

### 批次處理模式適用於：
- **大量媒體處理**：需要將同一音訊檔案複製到多個媒體
- **工作流程自動化**：減少重複操作，提升效率
- **品質控制要求**：需要檔案驗證確保完整性
- **標準化作業**：統一的處理流程和標準

### 手動操作模式適用於：
- **靈活檔案管理**：不同媒體需要不同檔案
- **選擇性處理**：只處理特定媒體
- **測試和驗證**：單步驟操作和問題排除
- **個人使用**：偶爾的檔案複製需求

## 🛡️ 安全特性

- **檔案完整性驗證**：確保複製的檔案大小正確
- **錯誤處理機制**：詳細的錯誤訊息和恢復建議
- **防誤操作設計**：清楚的狀態提示和確認機制
- **媒體保護**：手動模式可避免誤清空重要媒體

## 🔍 故障排除

### 常見問題

**Q: 程式顯示「未找到 ffmpeg」**
A: 下載 ffmpeg.exe 放到程式目錄，或僅處理 WAV 格式

**Q: 媒體無法被偵測到**
A: 確認媒體是可移動式裝置，或點擊「重新整理」

**Q: 批次處理無法啟用**
A: 先選擇要處理的檔案，再勾選批次處理模式

**Q: 檔案複製失敗**
A: 檢查媒體剩餘空間和檔案權限

**Q: 程式運行緩慢**
A: 選擇相同格式輸入輸出以啟用無損複製模式

## 📈 技術規格

- **GUI 框架**：FreeSimpleGUI
- **音訊處理**：mutagen + FFmpeg
- **系統監控**：psutil
- **媒體管理**：多線程處理
- **檔案操作**：shutil + os
- **支援打包**：PyInstaller

## 📝 更新日誌

### v2.0.0 (最新)
- ✨ 新增批次處理模式
- ✨ 新增可移動媒體自動管理
- ✨ 新增檔案完整性驗證
- ✨ 新增多媒體並行處理
- ✨ 新增手動媒體操作功能
- 🔧 改善使用者界面佈局
- 🔧 增強錯誤處理機制

### v1.0.0
- 🎵 基本音訊重複功能
- 🎵 多格式支援
- 🎵 圖形化使用者界面

## 📄 授權條款

本專案採用 MIT 授權條款，詳見 LICENSE 檔案。

## 🤝 貢獻

歡迎提交 Issue 和 Pull Request 來改善這個專案！

---

**重要提醒**：使用批次處理模式時，請確認選擇的檔案和媒體都是正確的，因為此模式會自動清空媒體並複製檔案。建議先用手動模式測試流程。
